var e=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,t=Object.assign;import{r as i,c as r,u as c,a as s,b as u,d as l}from"./vendor.77edcddc.js";var o,p,h,m;!function(e=".",n="__import__"){try{self[n]=new Function("u","return import(u)")}catch(a){const t=new URL(e,location),i=e=>{URL.revokeObjectURL(e.src),e.remove()};self[n]=e=>new Promise(((a,r)=>{const c=new URL(e,t);if(self[n].moduleMap[c])return a(self[n].moduleMap[c]);const s=new Blob([`import * as m from '${c}';`,`${n}.moduleMap['${c}']=m;`],{type:"text/javascript"}),u=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){r(new Error(`Failed to import: ${e}`)),i(u)},onload(){a(self[n].moduleMap[c]),i(u)}});document.head.appendChild(u)})),self[n].moduleMap={}}}("/pinyin/assets/"),(p=o||(o={})).a="a",p.o="o",p.e="e",p.i="i",p.u="u",p.v="v",p.ai="ai",p.ei="ei",p.ui="ui",p.ao="ao",p.ou="ou",p.iu="iu",p.ie="ie",p.ve="ve",p.er="er",p.an="an",p.en="en",p.in="in",p.un="un",p.vn="vn",p.ang="ang",p.eng="eng",p.ing="ing",p.ong="ong",p.b="b",p.p="p",p.m="m",p.f="f",p.d="d",p.t="t",p.n="n",p.l="l",p.g="g",p.k="k",p.h="h",p.j="j",p.q="q",p.x="x",p.z="z",p.c="c",p.s="s",p.zh="zh",p.ch="ch",p.sh="sh",p.r="r",p.y="y",p.w="w",p.zhi="zhi",p.chi="chi",p.shi="shi",p.ri="ri",p.zi="zi",p.ci="ci",p.si="si",p.yi="yi",p.wu="wu",p.yu="yu",p.ye="ye",p.yue="yue",p.yuan="yuan",p.yin="yin",p.yun="yun",p.ying="ying",(m=h||(h={})).a="a",m.o="o",m.e="e",m.i="i",m.u="u",m.v="v",m.ai="ai",m.ei="ei",m.ui="ui",m.ao="ao",m.ou="ou",m.iu="iu",m.ie="ie",m.ve="ve",m.an="an",m.en="en",m.in="in",m.un="un",m.vn="vn",m.ang="ang",m.eng="eng",m.ing="ing",m.ong="ong",m.b="b",m.p="p",m.m="m",m.f="f",m.d="d",m.t="t",m.n="n",m.l="l",m.g="g",m.k="k",m.h="h",m.j="j",m.q="q",m.x="x",m.z="z",m.c="c",m.s="s",m.zh="zh",m.ch="ch",m.sh="sh",m.r="r",m.y="y",m.w="w",m.ua="ua",m.uai="uai",m.uan="uan",m.uang="uang",m.ue="ue",m.uo="uo",m.ia="ia",m.iao="iao",m.ian="ian",m.iang="iang",m.iong="iong";const g=[h.b,h.p,h.m,h.f,h.d,h.t,h.n,h.l,h.g,h.k,h.h,h.j,h.q,h.x,h.z,h.c,h.s,h.zh,h.ch,h.sh,h.r,h.y,h.w];var y,d;(d=y||(y={})).a="a",d.ai="ai",d.an="an",d.ang="ang",d.ao="ao",d.e="e",d.ei="ei",d.en="en",d.eng="eng",d.er="er",d.o="o",d.ou="ou";var _,v,x={type:"QuanPin",displayName:"全拼",map:o};class f{constructor(){this.quanPinSchema=x,this.shuangPinSchemas=[]}static getShengmu(e){const n=e.slice(0,2);return g.includes(n)?n:g.includes(e.charAt(0))?e.charAt(0):void 0}getPinyin(e,n){if("QuanPin"===e)return n;const a=this.getShuangPinSchema(e),t=f.getShengmu(n);return t?[a.map[t],a.map[n.replace(t,"")]].join(""):a.patchMap[n]}register(e){e&&e.type&&(this.shuangPinSchemas.some((({type:n})=>n===e.type))||this.shuangPinSchemas.push(e))}getQuanPinSchema(){return this.quanPinSchema}getShuangPinSchema(e){return this.shuangPinSchemas.find((({type:n})=>n===e))}getShemaOptions(){return[{type:this.quanPinSchema.type,displayName:this.quanPinSchema.displayName},...this.shuangPinSchemas.map((e=>({type:e.type,displayName:e.displayName})))]}}(v=_||(_={})).Mark="Mark",v.Hanzi="Hanzi";class z{constructor(){this.texts=[]}register(e){this.texts.some((({key:n})=>n===e.key))||this.texts.push(e)}getTextConfig(e){return this.texts.find((({key:n})=>n===e))}getTextOptions(){return this.texts.map((e=>({key:e.key,title:e.title})))}}const k=class{};let q=k;q.schema=new f,q.text=new z,q.reinitialize=()=>{k.schema=new f,k.text=new z};var E={hero:"_hero_gclx1_1",pinyin:"_pinyin_gclx1_6",error:"_error_gclx1_21",captialized:"_captialized_gclx1_27",line:"_line_gclx1_33",line1:"_line-1_gclx1_37",line4:"_line-4_gclx1_38",line2:"_line-2_gclx1_41",line3:"_line-3_gclx1_42",char:"_char_gclx1_57",charInputed:"_char-inputed_gclx1_60",cursor:"_cursor_gclx1_68",blink:"_blink_gclx1_1",emptyContentCursor:"_empty-content-cursor_gclx1_80"};function w(e){const{original:n="",modified:a="",capitalized:t=!0,cursor:c=!1,style:s,className:u}=e,l=i.useMemo((()=>{const e=a.length-1;if(n)return i.createElement("div",{className:r({[E.pinyin]:!0,[E.captialized]:!!n.charAt(1)&&t})},n.split("").map(((t,s)=>i.createElement("span",{key:s,className:r({[E.char]:!0,[E.charInputed]:s<=e,[E.error]:a[s]&&n[s]!==a[s],[E.cursor]:c&&e===s,[E.emptyContentCursor]:c&&-1===e&&0===s})},t))))}),[n,a,c]);return i.createElement("div",{className:r(E.hero,u),style:s},new Array(4).fill(0).map(((e,n)=>i.createElement("div",{key:n,className:r(E.line,E[`line${n+1}`])}))),l)}var b="_container_kngxs_1",S="_hero_kngxs_5",j="_input-container_kngxs_9",N="_dummy-input_kngxs_25";function P(e){const{original:n,capitalized:a=!0}=e,[t,r]=c(e,{valuePropName:"modified"}),[u,{toggle:l}]=s(!1);return i.createElement("div",{className:b},i.createElement("div",{className:S},i.createElement("div",{className:j},i.createElement("input",{value:t,onChange:e=>((e="")=>{n&&n.length>=e.length&&r(e)})(e.target.value),onFocus:()=>l(),onBlur:()=>l()})),i.createElement(w,{capitalized:a,original:n,modified:t,cursor:u,className:N})))}var H="_container_1fx7h_1",M="_char_1fx7h_12";function O(r){const{char:c}=r,s=((t,i)=>{var r={};for(var c in t)e.call(t,c)&&i.indexOf(c)<0&&(r[c]=t[c]);if(null!=t&&n)for(var c of n(t))i.indexOf(c)<0&&a.call(t,c)&&(r[c]=t[c]);return r})(r,["char"]);return i.createElement("div",{className:H},i.createElement("div",{className:M},c),i.createElement(P,t({},s)))}q.schema.register({type:"XianHe",displayName:"小鹤双拼",map:{[h.a]:"a",[h.o]:"o",[h.e]:"e",[h.i]:"i",[h.u]:"u",[h.v]:"v",[h.ai]:"d",[h.ei]:"w",[h.ui]:"v",[h.ao]:"c",[h.ou]:"z",[h.iu]:"q",[h.ie]:"p",[h.ve]:"t",[h.an]:"j",[h.en]:"f",[h.in]:"b",[h.un]:"y",[h.vn]:"y",[h.ang]:"h",[h.eng]:"g",[h.ing]:"k",[h.ong]:"s",[h.b]:"b",[h.p]:"p",[h.m]:"m",[h.f]:"f",[h.d]:"d",[h.t]:"t",[h.n]:"n",[h.l]:"l",[h.g]:"g",[h.k]:"k",[h.h]:"h",[h.j]:"j",[h.q]:"q",[h.x]:"x",[h.z]:"z",[h.c]:"c",[h.s]:"s",[h.zh]:"v",[h.ch]:"i",[h.sh]:"u",[h.r]:"r",[h.y]:"y",[h.w]:"w",[h.ua]:"x",[h.uai]:"k",[h.uan]:"r",[h.uang]:"l",[h.ue]:"t",[h.uo]:"o",[h.ia]:"x",[h.iao]:"n",[h.ian]:"m",[h.iang]:"l",[h.iong]:"s"},patchMap:{[y.a]:"aa",[y.ai]:"ai",[y.an]:"an",[y.ang]:"ah",[y.ao]:"ao",[y.e]:"ee",[y.ei]:"ei",[y.en]:"en",[y.eng]:"eg",[y.er]:"er",[y.o]:"oo",[y.ou]:"ou"}}),q.text.register({key:"HelloWorld",title:"你好，世界！",text:[{type:_.Hanzi,char:"你",quanpin:"ni"},{type:_.Hanzi,char:"好",quanpin:"hao"},{type:_.Mark,char:"，"},{type:_.Hanzi,char:"世",quanpin:"shi"},{type:_.Hanzi,char:"界",quanpin:"jie"},{type:_.Mark,char:"！"}]}),q.text.register({key:"Saying",title:"名人名言",text:[{type:_.Hanzi,char:"天",quanpin:"tian"},{type:_.Hanzi,char:"行",quanpin:"xing"},{type:_.Hanzi,char:"健",quanpin:"jian"},{type:_.Mark,char:"，"},{type:_.Hanzi,char:"君",quanpin:"jun"},{type:_.Hanzi,char:"子",quanpin:"zi"},{type:_.Hanzi,char:"以",quanpin:"yi"},{type:_.Hanzi,char:"自",quanpin:"zi"},{type:_.Hanzi,char:"强",quanpin:"qiang"},{type:_.Hanzi,char:"不",quanpin:"bu"},{type:_.Hanzi,char:"息",quanpin:"xi"},{type:_.Mark,char:"。"}]});var C="_app_1dcnw_1",L="_menu_1dcnw_9";function R(){var e,n;const a=q.schema.getShemaOptions(),t=q.text.getTextOptions(),[r,c]=u("schema-type",null==(e=null==a?void 0:a[0])?void 0:e.type),[s,l]=u("text-key",null==(n=null==t?void 0:t[0])?void 0:n.key),[o,p]=u("current-index",0),[h,m]=i.useState(""),g=i.useMemo((()=>q.text.getTextConfig(s)),[s]),y=i.useMemo((()=>{const e=null==g?void 0:g.text.filter((e=>e.type===_.Hanzi));return null==e?void 0:e[o%(null==e?void 0:e.length)]}),[g,o]),d=i.useMemo((()=>{if(y)return q.schema.getPinyin(r,y.quanpin)}),[y,r]);return i.useEffect((()=>{h&&h===d&&(p((e=>e+1)),m(""))}),[d,h]),i.createElement("div",{className:C},i.createElement("div",{className:L},"输入方式",i.createElement("select",{value:r,onChange:e=>c(e.target.value)},a.map((e=>i.createElement("option",{key:e.type,value:e.type},e.displayName)))),"输入模板",i.createElement("select",{value:s,onChange:e=>{p(0),l(e.target.value)}},t.map((e=>i.createElement("option",{key:e.key,value:e.key},e.title)))),i.createElement("button",{onClick:()=>{p(0),m("")}},"reset")),i.createElement("div",null,i.createElement(O,{char:y.char,original:d,modified:h,onChange:e=>m(e)})))}l.render(i.createElement(i.StrictMode,null,i.createElement(R,null)),document.getElementById("root"));
