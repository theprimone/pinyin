var e=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,i=Object.prototype.propertyIsEnumerable,a=Object.assign;import{r as t,c as u,u as o,a as r,T as h,b as s,d as l,F as c,e as y,I as g,B as m,G as p,S as d,f as z,R as x,L as b,C as _,g as f,M as v,h as j}from"./vendor.6ba71e9c.js";var w,E,k,q;!function(e=".",n="__import__"){try{self[n]=new Function("u","return import(u)")}catch(i){const a=new URL(e,location),t=e=>{URL.revokeObjectURL(e.src),e.remove()};self[n]=e=>new Promise(((i,u)=>{const o=new URL(e,a);if(self[n].moduleMap[o])return i(self[n].moduleMap[o]);const r=new Blob([`import * as m from '${o}';`,`${n}.moduleMap['${o}']=m;`],{type:"text/javascript"}),h=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){u(new Error(`Failed to import: ${e}`)),t(h)},onload(){i(self[n].moduleMap[o]),t(h)}});document.head.appendChild(h)})),self[n].moduleMap={}}}("/pinyin/assets/"),(E=w||(w={})).a="a",E.o="o",E.e="e",E.i="i",E.u="u",E.v="v",E.ai="ai",E.ei="ei",E.ui="ui",E.ao="ao",E.ou="ou",E.iu="iu",E.ie="ie",E.ve="ve",E.er="er",E.an="an",E.en="en",E.in="in",E.un="un",E.vn="vn",E.ang="ang",E.eng="eng",E.ing="ing",E.ong="ong",E.b="b",E.p="p",E.m="m",E.f="f",E.d="d",E.t="t",E.n="n",E.l="l",E.g="g",E.k="k",E.h="h",E.j="j",E.q="q",E.x="x",E.z="z",E.c="c",E.s="s",E.zh="zh",E.ch="ch",E.sh="sh",E.r="r",E.y="y",E.w="w",E.zhi="zhi",E.chi="chi",E.shi="shi",E.ri="ri",E.zi="zi",E.ci="ci",E.si="si",E.yi="yi",E.wu="wu",E.yu="yu",E.ye="ye",E.yue="yue",E.yuan="yuan",E.yin="yin",E.yun="yun",E.ying="ying",(q=k||(k={})).a="a",q.o="o",q.e="e",q.i="i",q.u="u",q.v="v",q.ai="ai",q.ei="ei",q.ui="ui",q.ao="ao",q.ou="ou",q.iu="iu",q.ie="ie",q.ve="ve",q.an="an",q.en="en",q.in="in",q.un="un",q.vn="vn",q.ang="ang",q.eng="eng",q.ing="ing",q.ong="ong",q.b="b",q.p="p",q.m="m",q.f="f",q.d="d",q.t="t",q.n="n",q.l="l",q.g="g",q.k="k",q.h="h",q.j="j",q.q="q",q.x="x",q.z="z",q.c="c",q.s="s",q.zh="zh",q.ch="ch",q.sh="sh",q.r="r",q.y="y",q.w="w",q.ua="ua",q.uai="uai",q.uan="uan",q.uang="uang",q.ue="ue",q.uo="uo",q.ia="ia",q.iao="iao",q.ian="ian",q.iang="iang",q.iong="iong";const S=[k.b,k.p,k.m,k.f,k.d,k.t,k.n,k.l,k.g,k.k,k.h,k.j,k.q,k.x,k.z,k.c,k.s,k.zh,k.ch,k.sh,k.r,k.y,k.w];var N,C;(C=N||(N={})).a="a",C.ai="ai",C.an="an",C.ang="ang",C.ao="ao",C.e="e",C.ei="ei",C.en="en",C.eng="eng",C.er="er",C.o="o",C.ou="ou";var P,H,M={type:"QuanPin",displayName:"全拼",map:w};class O{constructor(){this.quanPinSchema=M,this.shuangPinSchemas=[]}static getShengmu(e){const n=e.slice(0,2);return S.includes(n)?n:S.includes(e.charAt(0))?e.charAt(0):void 0}getPinyin(e,n){if("QuanPin"===e)return n;const i=this.getShuangPinSchema(e),a=O.getShengmu(n);return a?[i.map[a],i.map[n.replace(a,"")]].join(""):i.patchMap[n]}register(e){e&&e.type&&(this.shuangPinSchemas.some((({type:n})=>n===e.type))||this.shuangPinSchemas.push(e))}getQuanPinSchema(){return this.quanPinSchema}getShuangPinSchema(e){return this.shuangPinSchemas.find((({type:n})=>n===e))}getShemaOptions(){return[{type:this.quanPinSchema.type,displayName:this.quanPinSchema.displayName},...this.shuangPinSchemas.map((e=>({type:e.type,displayName:e.displayName})))]}}(H=P||(P={})).Mark="Mark",H.Hanzi="Hanzi";class I{constructor(){this.texts=[]}register(e){this.texts.some((({key:n})=>n===e.key))||this.texts.push(e)}load(e){const n=e.content.replace(/[ \n]/g,"").split("").filter(Boolean),i=e.pinyin.replace(/[\n]/g," ").split(/ /g).filter(Boolean),a=[];i.forEach(((e,i)=>{/^[a-z]+$/.test(e.toLowerCase())?a.push({type:P.Hanzi,char:n[i],quanpin:e}):a.push({type:P.Mark,char:n[i]})})),this.register({key:e.key,title:e.title,text:a})}getTextConfig(e){return this.texts.find((({key:n})=>n===e))}getTextOptions(){return this.texts.map((e=>({key:e.key,title:e.title})))}}const F=class{};let T=F;T.schema=new O,T.text=new I,T.reinitialize=()=>{F.schema=new O,F.text=new I};var $={hero:"_hero_gclx1_1",pinyin:"_pinyin_gclx1_6",error:"_error_gclx1_21",captialized:"_captialized_gclx1_27",line:"_line_gclx1_33",line1:"_line-1_gclx1_37",line4:"_line-4_gclx1_38",line2:"_line-2_gclx1_41",line3:"_line-3_gclx1_42",char:"_char_gclx1_57",charInputed:"_char-inputed_gclx1_60",cursor:"_cursor_gclx1_68",blink:"_blink_gclx1_1",emptyContentCursor:"_empty-content-cursor_gclx1_80"};function B(e){const{original:n="",modified:i="",capitalized:a=!0,cursor:o=!1,style:r,className:h}=e,s=t.useMemo((()=>{const e=i.length-1;if(n)return t.createElement("div",{className:u({[$.pinyin]:!0,[$.captialized]:!!n.charAt(1)&&a})},n.split("").map(((a,r)=>t.createElement("span",{key:r,className:u({[$.char]:!0,[$.charInputed]:r<=e,[$.error]:i[r]&&n[r]!==i[r],[$.cursor]:o&&e===r,[$.emptyContentCursor]:o&&-1===e&&0===r})},a))))}),[n,i,o]);return t.createElement("div",{className:u($.hero,h),style:r},new Array(4).fill(0).map(((e,n)=>t.createElement("div",{key:n,className:u($.line,$[`line${n+1}`])}))),s)}var L="_container_kngxs_1",R="_hero_kngxs_5",U="_input-container_kngxs_9",V="_dummy-input_kngxs_25";function D(e){const{original:n,capitalized:i=!0}=e,[a,u]=o(e,{valuePropName:"modified"}),[h,{toggle:s}]=r(!1);return t.createElement("div",{className:L},t.createElement("div",{className:R},t.createElement("div",{className:U},t.createElement("input",{value:a,onChange:e=>((e="")=>{n&&n.length>=e.length&&u(e.toLowerCase())})(e.target.value),onFocus:()=>s(),onBlur:()=>s()})),t.createElement(B,{capitalized:i,original:n,modified:a,cursor:h,className:V})))}var A="_container_1ywh7_1",Q="_char_1ywh7_12";function G(u){const{char:o}=u,r=((a,t)=>{var u={};for(var o in a)e.call(a,o)&&t.indexOf(o)<0&&(u[o]=a[o]);if(null!=a&&n)for(var o of n(a))t.indexOf(o)<0&&i.call(a,o)&&(u[o]=a[o]);return u})(u,["char"]);return t.createElement("div",{className:A},t.createElement(h,{className:Q},o),t.createElement(D,a({},r)))}const J="https://api.jsonbin.io/v3";T.schema.register({type:"XianHe",displayName:"小鹤双拼",map:{[k.a]:"a",[k.o]:"o",[k.e]:"e",[k.i]:"i",[k.u]:"u",[k.v]:"v",[k.ai]:"d",[k.ei]:"w",[k.ui]:"v",[k.ao]:"c",[k.ou]:"z",[k.iu]:"q",[k.ie]:"p",[k.ve]:"t",[k.an]:"j",[k.en]:"f",[k.in]:"b",[k.un]:"y",[k.vn]:"y",[k.ang]:"h",[k.eng]:"g",[k.ing]:"k",[k.ong]:"s",[k.b]:"b",[k.p]:"p",[k.m]:"m",[k.f]:"f",[k.d]:"d",[k.t]:"t",[k.n]:"n",[k.l]:"l",[k.g]:"g",[k.k]:"k",[k.h]:"h",[k.j]:"j",[k.q]:"q",[k.x]:"x",[k.z]:"z",[k.c]:"c",[k.s]:"s",[k.zh]:"v",[k.ch]:"i",[k.sh]:"u",[k.r]:"r",[k.y]:"y",[k.w]:"w",[k.ua]:"x",[k.uai]:"k",[k.uan]:"r",[k.uang]:"l",[k.ue]:"t",[k.uo]:"o",[k.ia]:"x",[k.iao]:"n",[k.ian]:"m",[k.iang]:"l",[k.iong]:"s"},patchMap:{[N.a]:"aa",[N.ai]:"ai",[N.an]:"an",[N.ang]:"ah",[N.ao]:"ao",[N.e]:"ee",[N.ei]:"ei",[N.en]:"en",[N.eng]:"eg",[N.er]:"er",[N.o]:"oo",[N.ou]:"ou"}}),T.text.load({key:"ChuShiBian",title:"出师表",content:"先帝创业未半而中道崩殂，今天下三分，益州疲弊，此诚危急存亡之秋也。然侍卫之臣不懈于内，忠志之士忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气，不宜妄自菲薄，引喻失义，以塞忠谏之路也。\n\n  　　宫中府中，俱为一体；陟罚臧否，不宜异同。若有作奸犯科及为忠善者，宜付有司论其刑赏，以昭陛下平明之理，不宜偏私，使内外异法也。\n  \n  　　侍中、侍郎郭攸之、费祎、董允等，此皆良实，志虑忠纯，是以先帝简拔以遗陛下。愚以为宫中之事，事无大小，悉以咨之，然后施行，必能裨补阙漏，有所广益。\n  \n  　　将军向宠，性行淑均，晓畅军事，试用于昔日，先帝称之曰能，是以众议举宠为督。愚以为营中之事，悉以咨之，必能使行阵和睦，优劣得所。\n  \n  　　亲贤臣，远小人，此先汉所以兴隆也；亲小人，远贤臣，此后汉所以倾颓也。先帝在时，每与臣论此事，未尝不叹息痛恨于桓、灵也。侍中、尚书、长史、参军，此悉贞良死节之臣，愿陛下亲之信之，则汉室之隆，可计日而待也。\n  \n  　　臣本布衣，躬耕于南阳，苟全性命于乱世，不求闻达于诸侯。先帝不以臣卑鄙，猥自枉屈，三顾臣于草庐之中，咨臣以当世之事，由是感激，遂许先帝以驱驰。后值倾覆，受任于败军之际，奉命于危难之间，尔来二十有一年矣。\n  \n  　　先帝知臣谨慎，故临崩寄臣以大事也。受命以来，夙夜忧叹，恐托付不效，以伤先帝之明；故五月渡泸，深入不毛。今南方已定，兵甲已足，当奖率三军，北定中原，庶竭驽钝，攘除奸凶，兴复汉室，还于旧都。此臣所以报先帝而忠陛下之职分也。至于斟酌损益，进尽忠言，则攸之、祎、允之任也。\n  \n  　　愿陛下托臣以讨贼兴复之效，不效，则治臣之罪，以告先帝之灵。若无兴德之言，则责攸之、祎、允等之慢，以彰其咎；陛下亦宜自谋，以咨诹善道，察纳雅言，深追先帝遗诏。臣不胜受恩感激。今当远离，临表涕零，不知所言。",pinyin:"xian di chuang ye wei ban er zhong dao beng cu ， jin tian xia san fen ， yi zhou pi bi ， ci cheng wei ji cun wang zhi qiu ye 。 ran shi wei zhi chen bu xie yu nei ， zhong zhi zhi shi wang shen yu wai zhe ， gai zhui xian di zhi shu yu ， yu bao zhi yu bi xia ye 。 cheng yi kai zhanɡ sheng ting ， yi guang xian di yi de ， hui hong zhi shi zhi qi ， bu yi wang zi fei bo ， yin yu shi yi ， yi sai zhong jian zhi lu ye 。 \n\n  　 　 gong zhong fu zhong ， ju wei yi ti ； zhi fa zang pi ， bu yi yi tong 。 re you zuo jian fan ke ji wei zhong shan zhe ， yi fu you si lun qi xinɡ shanɡ ， yi zhao bi xia ping ming zhi li ， bu yi pian si ， shi nei wai yi fa ye 。 \n  \n  　 　 shi zhong 、 shi lang guo you zhi 、 fei yi 、 dong yun deng ， ci jie liang shi ， zhi lv zhong chun ， shi yi xian di jian ba yi wei bi xia 。 yu yi wei gong zhong zhi shi ， shi wu da xiao ， xi yi zi zhi ， ran hou shi xing ， bi neng bi bu que lou ， you suo guang yi 。 \n  \n  　 　 jiang jun xiang chong ， xing xing shu jun ， xiao chang jun shi ， shi yong yu xi ri ， xian di chen zhi yue neng ， shi yi zhong yi ju chong wei du 。 yu yi wei ying zhong zhi shi ， xi yi zi zhi ， bi neng shi hang zhen he mu ， you lie de suo 。 \n  \n  　 　 qin xian chen ， yuan xiao ren ， ci xian han suo yi xing long ye ； qin xiao ren ， yuan xian chen ， ci hou han suo yi qing tui ye 。 xian di zai shi ， mei yu chen lun ci shi ， wei chang bu tan xi tong hen yu huan 、 ling ye 。 shi zhong 、 shang shu 、 zhang shi 、 can jun ， ci xi zhen liang si jie zhi chen ， yuan bi xia qin zhi xin zhi ， ze han shi zhi long ， ke ji ri er dai ye 。 \n  \n  　 　 chen ben bu yi ， gong geng yu nan yang ， gou quan xing ming yu luan shi ， bu qiu wen da yu zhu hou 。 xian di bu yi chen bei bi ， wei zi wang qu ， san gu chen yu cao lu zhi zhong ， zi chen yi dang shi zhi shi ， you shi gan ji ， sui xu xian di yi qu chi 。 hou zhi qinɡ fu ， shou ren yu bai jun zhi ji ， feng ming yu wei nan zhi jian ， er lai er shi you yi nian yi 。 \n  \n  　 　 xian di zhi chen jin shen ， gu lin beng ji chen yi da shi ye 。 shou minɡ yi lai ， su ye you tan ， kong tuo fu bu xiao ， yi shang xian di zhi ming ； gu wu yue du lu ， shen ru bu mao 。 jin nan fang yi ding ， bing jia yi zu ， dang jiang lv san jun ， bei ding zhong yuan ， shu jie nu dun ， ranɡ chu jian xionɡ ， xing fu han shi ， hai yu jiu du 。 ci chen suo yi bao xian di er zhong bi xia zhi zhi fen ye 。 zhi yu zhen zhuo sun yi ， jin jin zhong yan ， ze you zhi 、 yi 、 yun zhi ren ye 。 \n  \n  　 　 yuan bi xia tuo chen yi tao zei xing fu zhi xiao ， bu xiao ， ze zhi chen zhi zui ， yi gao xian di zhi ling 。 re mo xing de zhi yan ， ze ze you zhi 、 yi 、 yun deng zhi man ， yi zhang ji jiu ； bi xia yi yi zi mou ， yi zi zou shan dao ， cha na ya yan ， shen zhui xian di yi zhao 。 chen bu sheng shou en gan ji 。 jin dang yuan li ， lin biao ti ling ， bu zhi suo yan 。 "}),T.text.register({key:"HelloWorld",title:"你好，世界！",text:[{type:P.Hanzi,char:"你",quanpin:"ni"},{type:P.Hanzi,char:"好",quanpin:"hao"},{type:P.Mark,char:"，"},{type:P.Hanzi,char:"世",quanpin:"shi"},{type:P.Hanzi,char:"界",quanpin:"jie"},{type:P.Mark,char:"！"}]}),T.text.register({key:"Saying",title:"名人名言",text:[{type:P.Hanzi,char:"天",quanpin:"tian"},{type:P.Hanzi,char:"行",quanpin:"xing"},{type:P.Hanzi,char:"健",quanpin:"jian"},{type:P.Mark,char:"，"},{type:P.Hanzi,char:"君",quanpin:"jun"},{type:P.Hanzi,char:"子",quanpin:"zi"},{type:P.Hanzi,char:"以",quanpin:"yi"},{type:P.Hanzi,char:"自",quanpin:"zi"},{type:P.Hanzi,char:"强",quanpin:"qiang"},{type:P.Hanzi,char:"不",quanpin:"bu"},{type:P.Hanzi,char:"息",quanpin:"xi"},{type:P.Mark,char:"。"}]});var W="_app_14h7n_1",X="_menu_14h7n_9";function K(){var e,n;const i=T.schema.getShemaOptions(),a=T.text.getTextOptions(),[u]=c.useForm(),[o,r]=y("bin-id"),[j,w]=y("name"),[E,k]=y("schema-type",null==(e=null==i?void 0:i[0])?void 0:e.type),[q,S]=y("text-key",null==(n=null==a?void 0:a[0])?void 0:n.key),[N,C]=y("current-index",0),[H,M]=t.useState(""),[O,I]=t.useState(!1),{run:F,loading:$}=s((e=>`${J}/b/${e}/latest`),{manual:!0,onSuccess(e){(null==e?void 0:e.name)?l.success(`你好，${e.name} 😃`):l.warn("数据异常，请稍候重试 ☹️")},onError(){l.error("网络异常，请稍候重试 ☹️")},formatResult:e=>null==e?void 0:e.record}),{run:B,loading:L}=s(((e,n)=>({url:`${J}/b/${e}`,method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})),{manual:!0,onSuccess(){l.success("已同步本地数据 😃")},onError(){l.warn("同步失败，请稍后重试 ☹️")}}),R=e=>{w(e.name),k(e.progress["schema-type"]),S(e.progress["text-key"]),C(e.progress["input-text-index"]),M(e.progress["input-pinyin"])},U=async e=>await F(e),V=(e,n)=>B(e,{name:n,progress:{"schema-type":E||"","text-key":q||"","input-text-index":N||0,"input-pinyin":H}}),D=t.useMemo((()=>T.text.getTextConfig(q)),[q]),A=t.useMemo((()=>{const e=null==D?void 0:D.text.filter((e=>e.type===P.Hanzi));return null==e?void 0:e[N%(null==e?void 0:e.length)]}),[D,N]),Q=t.useMemo((()=>{if(A)return T.schema.getPinyin(E,A.quanpin)}),[A,E]);t.useEffect((()=>{H&&H===Q&&(C((e=>e+1)),M(""))}),[Q,H]),t.useEffect((()=>{o&&U(o).then(R)}),[]);return t.createElement("div",{className:W},t.createElement("div",null,t.createElement(G,{char:A.char,original:Q,modified:H,onChange:e=>M(e)})),t.createElement("div",{className:X},t.createElement(g.Group,{compact:!0},t.createElement(m,{icon:t.createElement(p,null),href:"https://github.com/theprimone/pinyin",target:"_blank"}),t.createElement(d,{style:{width:100},options:i.map((e=>({value:e.type,label:e.displayName}))),placeholder:"拼写方案",value:E,onChange:e=>k(e)}),t.createElement(d,{style:{width:130},options:a.map((e=>({value:e.key,label:e.title}))),placeholder:"拼写模板",value:q,onChange:e=>{C(0),S(e)}}),t.createElement(z,{overlay:"重置本地输入状态",mouseEnterDelay:.5},t.createElement(m,{onClick:()=>{C(0),M("")},icon:t.createElement(x,null)})),t.createElement(z,{overlay:"同步本地状态到云端",mouseEnterDelay:.5},t.createElement(m,{icon:L?t.createElement(b,null):t.createElement(_,null),onClick:()=>{o&&j?V(o,j):I(!0)}})),t.createElement(z,{overlay:"同步云端状态到本地",mouseEnterDelay:.5},t.createElement(m,{icon:$?t.createElement(b,null):t.createElement(f,null),onClick:()=>{o?U(o).then(R):I(!0)}})))),t.createElement(v,{width:480,title:"同步设置",visible:O,cancelText:"取消",okText:"确定",onCancel:()=>I(!1),onOk:async()=>{const e=await U(u.getFieldValue("binId"));if(null==e?void 0:e.name)return r(u.getFieldValue("binId")),void I(!1);try{await V(u.getFieldValue("binId"),u.getFieldValue("name")),r(u.getFieldValue("binId")),w(u.getFieldValue("name")),I(!1)}catch(n){l.warn("初始化数据失败，请稍后重试 ☹️")}},destroyOnClose:!0},t.createElement(c,{form:u},t.createElement(c.Item,{name:"binId",label:"BIN_ID"},t.createElement(g,null)),t.createElement(c.Item,{name:"name",label:"用户名",extra:t.createElement(h.Text,{type:"secondary"},"默认使用云端用户名，如果没有用户名会根据当前值创建。")},t.createElement(g,null))),t.createElement(h.Text,{type:"secondary"},"同步功能基于 ",t.createElement("a",{href:"https://jsonbin.io/",target:"_blank"},"JSONbin"),"  实现，可自行注册并创建一个公开 BIN 后将 BIN_ID 贴于此处确认即可。")))}j.render(t.createElement(t.StrictMode,null,t.createElement(K,null)),document.getElementById("root"));
