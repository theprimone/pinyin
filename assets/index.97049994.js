import{u as e,r as n,a}from"./vendor.68aefb64.js";var i,t,u,r;!function(e=".",n="__import__"){try{self[n]=new Function("u","return import(u)")}catch(a){const i=new URL(e,location),t=e=>{URL.revokeObjectURL(e.src),e.remove()};self[n]=e=>new Promise(((a,u)=>{const r=new URL(e,i);if(self[n].moduleMap[r])return a(self[n].moduleMap[r]);const s=new Blob([`import * as m from '${r}';`,`${n}.moduleMap['${r}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){u(new Error(`Failed to import: ${e}`)),t(o)},onload(){a(self[n].moduleMap[r]),t(o)}});document.head.appendChild(o)})),self[n].moduleMap={}}}("/pinyin/assets/"),(t=i||(i={})).a="a",t.o="o",t.e="e",t.i="i",t.u="u",t.v="v",t.ai="ai",t.ei="ei",t.ui="ui",t.ao="ao",t.ou="ou",t.iu="iu",t.ie="ie",t.ve="ve",t.er="er",t.an="an",t.en="en",t.in="in",t.un="un",t.vn="vn",t.ang="ang",t.eng="eng",t.ing="ing",t.ong="ong",t.b="b",t.p="p",t.m="m",t.f="f",t.d="d",t.t="t",t.n="n",t.l="l",t.g="g",t.k="k",t.h="h",t.j="j",t.q="q",t.x="x",t.z="z",t.c="c",t.s="s",t.zh="zh",t.ch="ch",t.sh="sh",t.r="r",t.y="y",t.w="w",t.zhi="zhi",t.chi="chi",t.shi="shi",t.ri="ri",t.zi="zi",t.ci="ci",t.si="si",t.yi="yi",t.wu="wu",t.yu="yu",t.ye="ye",t.yue="yue",t.yuan="yuan",t.yin="yin",t.yun="yun",t.ying="ying",(r=u||(u={})).a="a",r.o="o",r.e="e",r.i="i",r.u="u",r.v="v",r.ai="ai",r.ei="ei",r.ui="ui",r.ao="ao",r.ou="ou",r.iu="iu",r.ie="ie",r.ve="ve",r.an="an",r.en="en",r.in="in",r.un="un",r.vn="vn",r.ang="ang",r.eng="eng",r.ing="ing",r.ong="ong",r.b="b",r.p="p",r.m="m",r.f="f",r.d="d",r.t="t",r.n="n",r.l="l",r.g="g",r.k="k",r.h="h",r.j="j",r.q="q",r.x="x",r.z="z",r.c="c",r.s="s",r.zh="zh",r.ch="ch",r.sh="sh",r.r="r",r.y="y",r.w="w",r.ua="ua",r.uai="uai",r.uan="uan",r.uang="uang",r.ue="ue",r.uo="uo",r.ia="ia",r.iao="iao",r.ian="ian",r.iang="iang",r.iong="iong";const s=[u.b,u.p,u.m,u.f,u.d,u.t,u.n,u.l,u.g,u.k,u.h,u.j,u.q,u.x,u.z,u.c,u.s,u.zh,u.ch,u.sh,u.r,u.y,u.w];var o,c;(c=o||(o={})).a="a",c.ai="ai",c.an="an",c.ang="ang",c.ao="ao",c.e="e",c.ei="ei",c.en="en",c.eng="eng",c.er="er",c.o="o",c.ou="ou";var h,p,l={type:"QuanPin",displayName:"全拼",map:i};class y{constructor(){this.quanPinSchema=l,this.shuangPinSchemas=[]}static getShengmu(e){const n=e.slice(0,2);return s.includes(n)?n:s.includes(e.charAt(0))?e.charAt(0):void 0}getPinyin(e,n){if("QuanPin"===e)return n.split("");const a=this.getShuangPinSchema(e),i=y.getShengmu(n);return i?[a.map[i],a.map[n.replace(i,"")]]:a.patchMap[n].split("")}register(e){e&&e.type&&(this.shuangPinSchemas.some((({type:n})=>n===e.type))||this.shuangPinSchemas.push(e))}getQuanPinSchema(){return this.quanPinSchema}getShuangPinSchema(e){return this.shuangPinSchemas.find((({type:n})=>n===e))}getShemaOptions(){return[{type:this.quanPinSchema.type,displayName:this.quanPinSchema.displayName},...this.shuangPinSchemas.map((e=>({type:e.type,displayName:e.displayName})))]}}(p=h||(h={})).Mark="Mark",p.Hanzi="Hanzi";const g=class{};let m=g;m.schema=new y,m.text=new class{constructor(){this.texts=[]}register(e){this.texts.some((({key:n})=>n===e.key))||this.texts.push(e)}getTextConfig(e){return this.texts.find((({key:n})=>n===e))}getTextOptions(){return this.texts.map((e=>({key:e.key,title:e.title})))}},m.reinitialize=()=>{g.schema=new y};function d(){var a,i;const t=m.schema.getShemaOptions(),u=m.text.getTextOptions(),[r,s]=e("schema-type",null==(a=null==t?void 0:t[0])?void 0:a.type),[o,c]=e("text-key",null==(i=null==u?void 0:u[0])?void 0:i.key),[p,l]=e("current-index",0),[y,g]=n.useState(""),d=n.useMemo((()=>m.text.getTextConfig(o)),[o]),v=n.useMemo((()=>null==d?void 0:d.text.filter((e=>e.type===h.Hanzi))[p]),[d,p]),z=n.useMemo((()=>{if(v)return m.schema.getPinyin(r,v.quanpin)}),[v,r]);return n.useEffect((()=>{y&&y===(null==z?void 0:z.join(""))&&(l((e=>e+1)),g(""))}),[z,y]),n.createElement("div",{className:"app"},n.createElement("div",null,"输入方式",n.createElement("select",{value:r,onChange:e=>s(e.target.value)},t.map((e=>n.createElement("option",{key:e.type,value:e.type},e.displayName)))),"输入模板",n.createElement("select",{value:o,onChange:e=>{l(0),c(e.target.value)}},u.map((e=>n.createElement("option",{key:e.key,value:e.key},e.title)))),n.createElement("button",{onClick:()=>{l(0),g("")}},"reset"),v&&n.createElement("div",null,n.createElement("div",null,v.char),n.createElement("div",null,z),n.createElement("input",{value:y,onChange:e=>g(e.target.value)}))))}m.schema.register({type:"XianHe",displayName:"小鹤双拼",map:{[u.a]:"a",[u.o]:"o",[u.e]:"e",[u.i]:"i",[u.u]:"u",[u.v]:"v",[u.ai]:"d",[u.ei]:"w",[u.ui]:"v",[u.ao]:"c",[u.ou]:"z",[u.iu]:"q",[u.ie]:"p",[u.ve]:"t",[u.an]:"j",[u.en]:"f",[u.in]:"b",[u.un]:"y",[u.vn]:"y",[u.ang]:"h",[u.eng]:"g",[u.ing]:"k",[u.ong]:"s",[u.b]:"b",[u.p]:"p",[u.m]:"m",[u.f]:"f",[u.d]:"d",[u.t]:"t",[u.n]:"n",[u.l]:"l",[u.g]:"g",[u.k]:"k",[u.h]:"h",[u.j]:"j",[u.q]:"q",[u.x]:"x",[u.z]:"z",[u.c]:"c",[u.s]:"s",[u.zh]:"v",[u.ch]:"i",[u.sh]:"u",[u.r]:"r",[u.y]:"y",[u.w]:"w",[u.ua]:"x",[u.uai]:"k",[u.uan]:"r",[u.uang]:"l",[u.ue]:"t",[u.uo]:"o",[u.ia]:"x",[u.iao]:"n",[u.ian]:"m",[u.iang]:"l",[u.iong]:"s"},patchMap:{[o.a]:"aa",[o.ai]:"ai",[o.an]:"an",[o.ang]:"ah",[o.ao]:"ao",[o.e]:"ee",[o.ei]:"ei",[o.en]:"en",[o.eng]:"eg",[o.er]:"er",[o.o]:"oo",[o.ou]:"ou"}}),m.text.register({key:"HelloWorld",title:"你好，世界！",text:[{type:h.Hanzi,char:"你",quanpin:"ni"},{type:h.Hanzi,char:"好",quanpin:"hao"},{type:h.Mark,char:"，"},{type:h.Hanzi,char:"世",quanpin:"shi"},{type:h.Hanzi,char:"界",quanpin:"jie"},{type:h.Mark,char:"！"}]}),m.text.register({key:"Saying",title:"名人名言",text:[{type:h.Hanzi,char:"天",quanpin:"tian"},{type:h.Hanzi,char:"行",quanpin:"xing"},{type:h.Hanzi,char:"健",quanpin:"jian"},{type:h.Mark,char:"，"},{type:h.Hanzi,char:"君",quanpin:"jun"},{type:h.Hanzi,char:"子",quanpin:"zi"},{type:h.Hanzi,char:"以",quanpin:"yi"},{type:h.Hanzi,char:"自",quanpin:"zi"},{type:h.Hanzi,char:"强",quanpin:"qiang"},{type:h.Hanzi,char:"不",quanpin:"bu"},{type:h.Hanzi,char:"息",quanpin:"xi"},{type:h.Mark,char:"。"}]});a.render(n.createElement(n.StrictMode,null,n.createElement(d,null)),document.getElementById("root"));
